hook global WinSetOption filetype=(rust) %{
  eval %sh{ kak-lsp }
}

set-option global indentwidth 4
define-command -docstring "Rename the current session to given name, and try to daemonize them" -params 1 \
try-daemonize %{
    try %{ daemonize-session }
    rename-session %arg{1}
}
map -docstring "Rename session" global user z ': prompt "Session Name:" %{ try-daemonize %val{text} } <ret>'

hook global WinSetOption filetype=(clojure|lisp|picolisp|racket|scheme|haskell) %{
    set window indentwidth 2
    map window insert <tab> <space><space>
}

hook global WinSetOption filetype=(clojure|lisp|picolisp|racket|scheme) %{
    parinfer-enable-window
    map -docstring "Toggle parinfer mode" window user "p" ": parinfer-toggle-mode<ret>"
}

