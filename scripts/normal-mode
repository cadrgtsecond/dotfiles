#!/usr/bin/env enter-mode
~/.config/river/init	reload
riverctl exit	X
sh -c "$(bemenu < /dev/null)"	e
tile-mode	t
printf 'zzz\npoweroff now' | bemenu | xargs term doas 	P
wl-paste -p | wl-copy	yc
wl-paste | wtype -	yp
wl-paste | fpipe vipe | wl-copy	ye

BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl set-focused-tags 	g
BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl toggle-focused-tags 	G
BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl set-view-tags 	v
BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl toggle-view-tags 	V

# Browser
surf "https://duckduckgo.com/?q=$(bemenu -p search </dev/null | jq -sRr @uri)"	oS
surf "$(bemenu -p surf -F https:// </dev/null)"	os

# Screenshot
grim -g "$(slurp)" "$(bemenu -F "$(date -I).png" </dev/null)"	S

# Keyboard
cat ~/.local/bin/scripts/unicode_list.csv | bemenu -l 20 | cut -d, -f1 | wl-copy -n	ue
change-keyboard $(bemenu -l 20 <~/.config/keyboards)	us

# Kakoune stuff
fd -t f | fpipe fzf | xargs term kak	K
term sh -c 'kak -c $(list-kak | bemenu); exec bash'	kk
printf 'kill!' | kak -p "$(kak -l | bemenu -p "kill")"	kq
kak -l | xargs -I{} kak -c {} -e kill!	kQ

# Notes
wtype "$(date -I)"	d
term kak "$(locate-note "$(date -I)" ./journals)"	D
term kak "$(locate-note "$(rg -Ir\$1 -g '*.md' "^# (.*)" . | sort | bemenu -il 20)")"	n

# Packages
apk search | sed 's/-[^-]*-[^-]*$//' | fpipe fzf --preview 'apk info {} | fmt -w $(tput cols)' | wl-copy	pr
cat /etc/apk/world | fpipe fzf | wl-copy	pm
fterm doas sh -c 'while true; do kak /etc/apk/world; apk upgrade && break; printf failure...; read; done; printf done...; read'	pw
fterm doas sh -c 'apk upgrade -U; printf done...; read'	pu

# Open
spawn firefox	of
spawn foot	ot
spawn firefox -P "Abhinav Krishna"	ou
spawn fterm alsamixer	oa

# Goto
fpipe zoxide query -i | xargs changepwd	Z
printf %s "$PWD" | writeharp dir	J
changepwd "$(readharp dir)"	j
printf 'cd %s\n' "$(readharp dir)" | wtype -	c
printf 'ccd %s\n' "$(readharp dir)" | wtype -	C

# Web
wl-paste | writeharp web	W
wtype "$(readharp web)"	w

# Theme
listthemes | fpipe fzf -d : --with-nth '{1}' --accept-nth 2 --preview 'switchtheme {2}'	T

# Cargo
cargo fmt	lf
