#!/usr/bin/env enter-mode
X	riverctl exit
e	term sh -c "$(bemenu < /dev/null)"
E	execc emptyenv -c pipeline ' env' '' pipeline ' fpipe' ' vipe' '' emptyenv -p envfile - execd
t	tile-mode
P	printf 'zzz\npoweroff now' | bemenu | xargs term doas 
yc	wl-paste -p | wl-copy
yp	wl-paste | wtype -
ye	wl-paste | fpipe vipe | wl-copy

g	BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl set-focused-tags 
G	BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl toggle-focused-tags 
v	BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl set-view-tags 
V	BQN -o "∾(•Repr¨∘↕∘≠∾¨':'∾¨⊢∾¨@+10˙)∾9‿23↕¨⊸+'1'‿'a'" | bemenu -F: --auto-select | BQN -p '2⋆•ParseFloat⊑¯2⊸↓¨•FLines "/dev/stdin"' | xargs riverctl toggle-view-tags 

# Browser
oS	surf "https://duckduckgo.com/?q=$(bemenu -p search </dev/null | jq -sRr @uri)"
os	surf "$(bemenu -p surf -F https:// </dev/null)"
ow	surf "$(readharp web)"

# Screenshot
S	grim -g "$(slurp)" - | wl-copy -t image/png

# Keyboard
ue	cat ~/.local/bin/scripts/unicode_list.csv | bemenu -l 20 | cut -d, -f1 | wl-copy -n
us	change-keyboard $(bemenu -l 20 <~/.config/keyboards)

# Kakoune stuff
K	fd -t f | fpipe fzy -l 20 | withstdinas -E x mosham '$x'
kk	mosham -c $(list-kak | bemenu --auto-select)
kq	printf 'kill!' | kak -p "$(kak -l | bemenu -p "kill")"
kQ	kak -l | xargs -I{} kak -c {} -e kill!

# Notes
d	wtype "$(date -I)"
D	mosham "$(locate-note "$(date -I)" ./journals)"
n	mosham "$(locate-note "$(rg -Ir\$1 -g '*.md' "^# (.*)" ./home | sort | bemenu -il 20)")"

# Packages
pr	apk search | sed 's/-[^-]*-[^-]*$//' | fpipe fzy -l 20 | wl-copy
pm	cat /etc/apk/world | fpipe fzy | wl-copy
pw	fterm doas loopwhilex -x 0 foreground ' kak' ' /etc/apk/world' '' apk fix
pu	fterm doas apk upgrade -U

# Open
of	spawn firefox -P "Hardened"
oF	spawn foot
ot	term watch transmission-remote -l
od	surf -c ~/.local/share/surf/discord.txt https://discord.com/app
ou	firefox -P "Abhinav Krishna"
oa	spawn fterm alsamixer

# Goto
Z	fpipe zoxide query -i | xargs changepwd
J	printf %s "$PWD" | writeharp dir
j	changepwd "$(readharp dir)"
c	printf %s "$(readharp dir)" | wtype -

# Web
W	wl-paste | writeharp web
w	wtype "$(readharp web)"

# Theme
T	fterm loopwhilex sh -c 'cd ~/.config/themes; fd -t d | fzy | ifne xargs switchtheme'
