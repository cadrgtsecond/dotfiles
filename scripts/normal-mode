#!/usr/bin/env enter-mode
~/.config/river/init	reload
riverctl exit	x
sh -c "$(bemenu < /dev/null)"	e
tile-mode	t
printf 'zzz\npoweroff now' | bemenu | xargs term doas 	P

# Screenshot
grim -g "$(slurp)" "$(bemenu -F "$(date -I).png" </dev/null)"	S

# Keyboard
wlrctl keyboard type $(date -I)	d
cat ~/.local/bin/scripts/unicode_list.csv | bemenu -l 20 | cut -d, -f1 | wl-copy -n	ue
change-keyboard $(bemenu -l 20 <~/.config/keyboards)	us

# Kakoune stuff
fd -t f | fpipe fzf | xargs term kak	K
term sh -c 'kak -c $(list-kak | bemenu); exec bash'	kk
printf 'kill!' | kak -p "$(kak -l | bemenu -p "kill")"	kq
kak -l | xargs -I{} kak -c {} -e kill!	kQ

# Notes
term kak "$(locate-note "$(rg -Ir\$1 "^# (.*)" "$BRAIN_DIR" | sort | bemenu -il 20)")"	n

# Packages
apk search | fpipe fzf | wl-copy	pr
cat /etc/apk/world | fpipe fzf | wl-copy	pm
fterm doas sh -c 'while true; do kak /etc/apk/world; apk upgrade && break; printf failure...; read; done; printf done...; read'	pw
fterm doas sh -c 'apk upgrade -U; printf done...; read'	pu

# Open
spawn firefox	of
spawn foot	ot
spawn firefox -P "Abhinav Krishna"	ou
spawn fterm alsamixer	oa

# Goto
fpipe zoxide query -i | xargs changepwd	Z
printf %s "$PWD" | writeharp dir	J
changepwd "$(readharp dir)"	j
{ readharp dir; printf '\n'; } | xargs -0I{} wlrctl keyboard type 'cd {}'	c
{ readharp dir; printf '\n'; } | xargs -0I{} wlrctl keyboard type 'ccd {}'	C

# Web
wl-paste | writeharp web	W
wlrctl keyboard type "$(readharp web)"	w

# Theme
listthemes | fpipe fzf -d : --with-nth '{1}' --accept-nth 2 --preview 'switchtheme {2}'	T
